{"paragraphs":[{"text":"%pyspark\nprint(\"%html <h3>Import<h3>\")","user":"anonymous","dateUpdated":"2018-05-10T02:52:48-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Import<h3>\n"}]},"apps":[],"jobName":"paragraph_1525450348835_-1363600095","id":"20180504-121228_1628760326","dateCreated":"2018-05-04T12:12:28-0400","dateStarted":"2018-05-10T02:52:48-0400","dateFinished":"2018-05-10T02:53:09-0400","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:319"},{"text":"%pyspark\nfrom pyspark.ml.recommendation import ALS\nfrom pyspark.ml.feature import *\nfrom pyspark.ml.classification import *\nfrom pyspark.ml.evaluation import * \nfrom pyspark.sql.functions import *\nfrom pyspark.sql.types import *\nimport nltk\nfrom nltk.stem.wordnet import WordNetLemmatizer\nfrom pyspark.ml import Pipeline\nfrom pyspark.ml.tuning import CrossValidator, ParamGridBuilder\nfrom nltk.sentiment.vader import SentimentIntensityAnalyzer\n","user":"anonymous","dateUpdated":"2018-05-10T02:53:22-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525450435671_-565292100","id":"20180504-121355_180131958","dateCreated":"2018-05-04T12:13:55-0400","dateStarted":"2018-05-10T02:53:22-0400","dateFinished":"2018-05-10T02:53:22-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:320"},{"text":"%pyspark\nprint(\"%html <h3>Read CSV<h3>\")","user":"anonymous","dateUpdated":"2018-05-10T02:53:25-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Read CSV<h3>\n"}]},"apps":[],"jobName":"paragraph_1525450468696_-191270196","id":"20180504-121428_450936023","dateCreated":"2018-05-04T12:14:28-0400","dateStarted":"2018-05-10T02:53:25-0400","dateFinished":"2018-05-10T02:53:25-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:321"},{"text":"%pyspark\ndf = spark.read.csv(\"train_lyrics_1000.csv\", header='true', multiLine='true', escape=\"\\\"\")\ndf.na.drop()\ndf.count()\n","user":"anonymous","dateUpdated":"2018-05-10T02:53:29-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"1000\n"}]},"apps":[],"jobName":"paragraph_1525450922274_767748468","id":"20180504-122202_604415056","dateCreated":"2018-05-04T12:22:02-0400","dateStarted":"2018-05-10T02:53:29-0400","dateFinished":"2018-05-10T02:53:37-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:322"},{"text":"%pyspark\nprint(\"%html <h3>Selecting Required Columns<h3>\")","user":"anonymous","dateUpdated":"2018-05-10T02:53:43-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Selecting Required Columns<h3>\n"}]},"apps":[],"jobName":"paragraph_1525450998902_-1487125273","id":"20180504-122318_299349155","dateCreated":"2018-05-04T12:23:18-0400","dateStarted":"2018-05-10T02:53:43-0400","dateFinished":"2018-05-10T02:53:43-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:323"},{"text":"%pyspark\ndf = df['lyrics','mood']\ndf.printSchema()\n","user":"anonymous","dateUpdated":"2018-05-10T02:53:45-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"root\n |-- lyrics: string (nullable = true)\n |-- mood: string (nullable = true)\n\n"}]},"apps":[],"jobName":"paragraph_1525451030309_-70064426","id":"20180504-122350_1833828051","dateCreated":"2018-05-04T12:23:50-0400","dateStarted":"2018-05-10T02:53:45-0400","dateFinished":"2018-05-10T02:53:45-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:324"},{"text":"%pyspark\nprint(\"%html <h3>Clean Text<h3>\")","user":"anonymous","dateUpdated":"2018-05-10T02:53:49-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Clean Text<h3>\n"}]},"apps":[],"jobName":"paragraph_1525451046589_-2124992977","id":"20180504-122406_1293928805","dateCreated":"2018-05-04T12:24:06-0400","dateStarted":"2018-05-10T02:53:49-0400","dateFinished":"2018-05-10T02:53:49-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:325"},{"text":"%pyspark\ndef clean_text(c):\n  c = lower(c)\n  c = regexp_replace(c, \"(RT |rt )\\S+\", \"\")\n  c = regexp_replace(c, \"(https:\\/\\/|http:\\/\\/)\\S+\", \"\")\n  c = regexp_replace(c, \"[^a-zA-Z\\\\s]\", \"\")\n  c = regexp_replace(c, \"[\\\\s+]\", \" \")\n  c = regexp_replace(c, \"[\\\\s][\\\\s]\", \" \")\n  return c\n  \nclean_text_df = df.select(clean_text(col(\"lyrics\")).alias(\"words\"), col(\"mood\"))\nclean_text_df.show()","user":"anonymous","dateUpdated":"2018-05-10T02:53:51-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+-----+\n|               words| mood|\n+--------------------+-----+\n|verse one alright...|  sad|\n|adam antmarco pir...|happy|\n|ive just erased i...|  sad|\n|little darling wh...|happy|\n|lead vocal by gre...|  sad|\n|if you can imagin...|happy|\n|first off let me ...|happy|\n|james james hold ...|happy|\n|conclusions illus...|  sad|\n|aint no love aint...|  sad|\n|brick by brick st...|  sad|\n|makes no differen...|  sad|\n|angie angie when ...|  sad|\n|day by day night ...|happy|\n|if you ever make ...|  sad|\n|the more i see yo...|  sad|\n|chorus mr cheeks ...|happy|\n|rip them down hol...|  sad|\n|im driving home f...|happy|\n|degradation i don...|  sad|\n+--------------------+-----+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525451060209_-154278462","id":"20180504-122420_1209838721","dateCreated":"2018-05-04T12:24:20-0400","dateStarted":"2018-05-10T02:53:51-0400","dateFinished":"2018-05-10T02:53:52-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:326"},{"text":"%pyspark\nprint(\"%html <h3>Tokenize<h3>\")","user":"anonymous","dateUpdated":"2018-05-10T02:53:57-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Tokenize<h3>\n"}]},"apps":[],"jobName":"paragraph_1525451155030_791940032","id":"20180504-122555_87951836","dateCreated":"2018-05-04T12:25:55-0400","dateStarted":"2018-05-10T02:53:57-0400","dateFinished":"2018-05-10T02:53:57-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:327"},{"text":"%pyspark\ntokenizer = Tokenizer(inputCol=\"words\", outputCol=\"tokens\")\nvector_df = tokenizer.transform(clean_text_df).select(\"tokens\", \"mood\")\nvector_df.show()\n","user":"anonymous","dateUpdated":"2018-05-10T02:53:59-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+-----+\n|              tokens| mood|\n+--------------------+-----+\n|[verse, one, alri...|  sad|\n|[adam, antmarco, ...|happy|\n|[ive, just, erase...|  sad|\n|[little, darling,...|happy|\n|[lead, vocal, by,...|  sad|\n|[if, you, can, im...|happy|\n|[first, off, let,...|happy|\n|[james, james, ho...|happy|\n|[conclusions, ill...|  sad|\n|[aint, no, love, ...|  sad|\n|[brick, by, brick...|  sad|\n|[makes, no, diffe...|  sad|\n|[angie, angie, wh...|  sad|\n|[day, by, day, ni...|happy|\n|[if, you, ever, m...|  sad|\n|[the, more, i, se...|  sad|\n|[chorus, mr, chee...|happy|\n|[rip, them, down,...|  sad|\n|[im, driving, hom...|happy|\n|[degradation, i, ...|  sad|\n+--------------------+-----+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525451312433_-87364446","id":"20180504-122832_2025985098","dateCreated":"2018-05-04T12:28:32-0400","dateStarted":"2018-05-10T02:53:59-0400","dateFinished":"2018-05-10T02:53:59-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:328"},{"text":"%pyspark\nprint(\"%html <h3>Stop Words Removal<h3>\")\n","user":"anonymous","dateUpdated":"2018-05-10T02:54:04-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Stop Words Removal<h3>\n"}]},"apps":[],"jobName":"paragraph_1525451333822_1929686858","id":"20180504-122853_76032393","dateCreated":"2018-05-04T12:28:53-0400","dateStarted":"2018-05-10T02:54:04-0400","dateFinished":"2018-05-10T02:54:04-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:329"},{"text":"%pyspark\n# Define a list of stop words or use default list\nremover = StopWordsRemover()\n\n# Specify input/output columns\nremover.setInputCol(\"tokens\")\nremover.setOutputCol(\"vector_no_stopw\")\n\n# Transform existing dataframe with the StopWordsRemover\nvector_no_stopw_df = remover.transform(vector_df).select(\"vector_no_stopw\", \"mood\")\n\nvector_no_stopw_df.printSchema()\n","user":"anonymous","dateUpdated":"2018-05-10T02:54:06-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"root\n |-- vector_no_stopw: array (nullable = true)\n |    |-- element: string (containsNull = true)\n |-- mood: string (nullable = true)\n\n"}]},"apps":[],"jobName":"paragraph_1525451418491_-17219198","id":"20180504-123018_1365953298","dateCreated":"2018-05-04T12:30:18-0400","dateStarted":"2018-05-10T02:54:06-0400","dateFinished":"2018-05-10T02:54:06-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:330"},{"text":"%pyspark\nprint(\"%html <h3>Lemmatization<h3>\")\n","user":"anonymous","dateUpdated":"2018-05-10T02:54:10-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Lemmatization<h3>\n"}]},"apps":[],"jobName":"paragraph_1525451440563_-1396898105","id":"20180504-123040_82568150","dateCreated":"2018-05-04T12:30:40-0400","dateStarted":"2018-05-10T02:54:10-0400","dateFinished":"2018-05-10T02:54:10-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:331"},{"text":"%pyspark\n#nltk.download('all')\n#nltk.download('averaged_perceptron_tagger')\nlemmatizer = WordNetLemmatizer()\n\ndef lemmatize(in_vec):\n    out_vec = []\n    for t in in_vec:\n        t_lemmatize = lemmatizer.lemmatize(t)\n        out_vec.append(t_lemmatize)       \n    return out_vec\n    \n\nlemmatizer_udf = udf(lambda x: lemmatize(x), ArrayType(StringType()))\n\n# Create new df with vectors containing the stemmed tokens \nvector_lemmatizer_df = (\n    vector_no_stopw_df\n        .withColumn(\"vector_lemmatized\", lemmatizer_udf(\"vector_no_stopw\"))\n        .withColumn(\"mood\", vector_no_stopw_df['mood'])\n        .select(\"vector_lemmatized\", \"mood\")\n)\n\n# Rename df and column for clarity\nproduction_df = vector_lemmatizer_df.select(col(\"vector_lemmatized\").alias(\"unigrams\"), col(\"mood\"))\nproduction_df.show()","user":"anonymous","dateUpdated":"2018-05-10T02:54:14-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python","tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+-----+\n|            unigrams| mood|\n+--------------------+-----+\n|[verse, one, alri...|  sad|\n|[adam, antmarco, ...|happy|\n|[ive, erased, ive...|  sad|\n|[little, darling,...|happy|\n|[lead, vocal, gre...|  sad|\n|[imagine, whole, ...|happy|\n|[first, let, say,...|happy|\n|[james, james, ho...|happy|\n|[conclusion, illu...|  sad|\n|[aint, love, aint...|  sad|\n|[brick, brick, st...|  sad|\n|[make, difference...|  sad|\n|[angie, angie, cl...|  sad|\n|[day, day, night,...|happy|\n|[ever, make, back...|  sad|\n|[see, want, someh...|  sad|\n|[chorus, mr, chee...|happy|\n|[rip, hold, tell,...|  sad|\n|[im, driving, hom...|happy|\n|[degradation, don...|  sad|\n+--------------------+-----+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525451575181_1986030408","id":"20180504-123255_1374788792","dateCreated":"2018-05-04T12:32:55-0400","dateStarted":"2018-05-10T02:54:14-0400","dateFinished":"2018-05-10T02:54:18-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:332"},{"text":"%pyspark\nprint(\"%html <h3>TF IDF<h3>\")","user":"anonymous","dateUpdated":"2018-05-10T02:54:31-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>TF IDF<h3>\n"}]},"apps":[],"jobName":"paragraph_1525560639000_846718070","id":"20180505-185039_1705342668","dateCreated":"2018-05-05T18:50:39-0400","dateStarted":"2018-05-10T02:54:31-0400","dateFinished":"2018-05-10T02:54:31-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:333"},{"text":"%pyspark\ncvTF = CountVectorizer(inputCol=\"unigrams\", outputCol=\"rawfeatures\")\nTFmodel = cvTF.fit(production_df)\nproduction_df = TFmodel.transform(production_df)\n\nidf = IDF(inputCol=\"rawfeatures\", outputCol=\"features1\")\nidfModel = idf.fit(production_df)\nproduction_df = idfModel.transform(production_df)\nproduction_df = production_df.select(col(\"unigrams\"),col(\"mood\"),col(\"features1\"))\nproduction_df.show()","user":"anonymous","dateUpdated":"2018-05-10T02:54:34-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+-----+--------------------+\n|            unigrams| mood|           features1|\n+--------------------+-----+--------------------+\n|[verse, one, alri...|  sad|(10744,[0,1,2,4,5...|\n|[adam, antmarco, ...|happy|(10744,[2,7,11,15...|\n|[ive, erased, ive...|  sad|(10744,[0,1,7,13,...|\n|[little, darling,...|happy|(10744,[0,1,6,9,1...|\n|[lead, vocal, gre...|  sad|(10744,[0,1,2,3,4...|\n|[imagine, whole, ...|happy|(10744,[0,2,3,4,5...|\n|[first, let, say,...|happy|(10744,[0,2,4,8,1...|\n|[james, james, ho...|happy|(10744,[0,14,19,2...|\n|[conclusion, illu...|  sad|(10744,[0,4,10,12...|\n|[aint, love, aint...|  sad|(10744,[3,4,5,12,...|\n|[brick, brick, st...|  sad|(10744,[1,5,6,11,...|\n|[make, difference...|  sad|(10744,[0,1,2,3,5...|\n|[angie, angie, cl...|  sad|(10744,[1,3,6,8,9...|\n|[day, day, night,...|happy|(10744,[1,6,7,9,1...|\n|[ever, make, back...|  sad|(10744,[6,7,12,15...|\n|[see, want, someh...|  sad|(10744,[2,3,8,13,...|\n|[chorus, mr, chee...|happy|(10744,[0,1,2,3,4...|\n|[rip, hold, tell,...|  sad|(10744,[0,7,11,12...|\n|[im, driving, hom...|happy|(10744,[0,5,7,9,1...|\n|[degradation, don...|  sad|(10744,[0,1,5,14,...|\n+--------------------+-----+--------------------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525562435708_-2096837066","id":"20180505-192035_1311029702","dateCreated":"2018-05-05T19:20:35-0400","dateStarted":"2018-05-10T02:54:34-0400","dateFinished":"2018-05-10T02:54:40-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:334"},{"text":"%pyspark\nprint(\"%html <h3>Polarity Assignment Of Lyrics<h3>\")","user":"anonymous","dateUpdated":"2018-05-10T02:54:49-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Polarity Assignment Of Lyrics<h3>\n"}]},"apps":[],"jobName":"paragraph_1525494695260_-54869486","id":"20180505-003135_215495968","dateCreated":"2018-05-05T00:31:35-0400","dateStarted":"2018-05-10T02:54:49-0400","dateFinished":"2018-05-10T02:54:49-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:335"},{"text":"%pyspark\nsid = SentimentIntensityAnalyzer()\ndef polarity_assignment(in_vec):\n    no_of_words = 0\n    polarity_value = 0.0\n    for t in in_vec:\n        ss = sid.polarity_scores(t)\n        polarity_value+= ss[\"compound\"]\n        no_of_words +=1\n    return polarity_value/no_of_words\n\npolarity_assignment_udf = udf(lambda x: polarity_assignment(x), DoubleType())\n\n# Create new df with vectors containing the stemmed tokens \npolarity_assignment_df = (\n    production_df\n        .withColumn(\"polarity_value\", polarity_assignment_udf(\"unigrams\"))\n)\nproduction_df1 = polarity_assignment_df.select(col(\"unigrams\"),col(\"features1\"),col(\"polarity_value\"), col(\"mood\"))\nproduction_df1.show()","user":"anonymous","dateUpdated":"2018-05-10T02:54:52-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+--------------------+--------------------+-----+\n|            unigrams|           features1|      polarity_value| mood|\n+--------------------+--------------------+--------------------+-----+\n|[verse, one, alri...|(10744,[0,1,2,4,5...|-0.00890864197530...|  sad|\n|[adam, antmarco, ...|(10744,[2,7,11,15...|0.021400000000000002|happy|\n|[ive, erased, ive...|(10744,[0,1,7,13,...|-0.03079047619047619|  sad|\n|[little, darling,...|(10744,[0,1,6,9,1...| 0.07315384615384615|happy|\n|[lead, vocal, gre...|(10744,[0,1,2,3,4...| 0.03877064220183487|  sad|\n|[imagine, whole, ...|(10744,[0,2,3,4,5...| 0.06143411764705882|happy|\n|[first, let, say,...|(10744,[0,2,4,8,1...|-0.03257063492063...|happy|\n|[james, james, ho...|(10744,[0,14,19,2...|0.005785714285714...|happy|\n|[conclusion, illu...|(10744,[0,4,10,12...|0.038160256410256416|  sad|\n|[aint, love, aint...|(10744,[3,4,5,12,...|0.017723076923076925|  sad|\n|[brick, brick, st...|(10744,[1,5,6,11,...|0.012400000000000001|  sad|\n|[make, difference...|(10744,[0,1,2,3,5...|-0.02452289156626506|  sad|\n|[angie, angie, cl...|(10744,[1,3,6,8,9...| 0.03008235294117647|  sad|\n|[day, day, night,...|(10744,[1,6,7,9,1...|0.039650561797752816|happy|\n|[ever, make, back...|(10744,[6,7,12,15...|-0.00713384615384...|  sad|\n|[see, want, someh...|(10744,[2,3,8,13,...|           0.0155925|  sad|\n|[chorus, mr, chee...|(10744,[0,1,2,3,4...|0.003063836477987...|happy|\n|[rip, hold, tell,...|(10744,[0,7,11,12...|-0.01886923076923077|  sad|\n|[im, driving, hom...|(10744,[0,5,7,9,1...|0.003820500000000...|happy|\n|[degradation, don...|(10744,[0,1,5,14,...|-0.03553917525773196|  sad|\n+--------------------+--------------------+--------------------+-----+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525505239991_1540851345","id":"20180505-032719_1582048028","dateCreated":"2018-05-05T03:27:19-0400","dateStarted":"2018-05-10T02:54:52-0400","dateFinished":"2018-05-10T02:54:57-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:336"},{"text":"%pyspark\nprint(\"%html <h3>Label mood column<h3>\")\n","user":"anonymous","dateUpdated":"2018-05-10T02:55:02-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Label mood column<h3>\n"}]},"apps":[],"jobName":"paragraph_1525462277187_-1239577286","id":"20180504-153117_1268660503","dateCreated":"2018-05-04T15:31:17-0400","dateStarted":"2018-05-10T02:55:02-0400","dateFinished":"2018-05-10T02:55:02-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:337"},{"text":"%pyspark\n#String Indexer for Feature2\nsi = StringIndexer(inputCol=\"mood\", outputCol=\"label\")\n\nsi_model = si.fit(production_df1)\nproduction_df2 = si_model.transform(production_df1)\nproduction_df3 = production_df2.select(col(\"unigrams\"),col(\"features1\"),col(\"polarity_value\"),col(\"mood\"),col(\"label\"))\nproduction_df3.show()\n","user":"anonymous","dateUpdated":"2018-05-10T02:55:07-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+--------------------+--------------------+-----+-----+\n|            unigrams|           features1|      polarity_value| mood|label|\n+--------------------+--------------------+--------------------+-----+-----+\n|[verse, one, alri...|(10744,[0,1,2,4,5...|-0.00890864197530...|  sad|  0.0|\n|[adam, antmarco, ...|(10744,[2,7,11,15...|0.021400000000000002|happy|  1.0|\n|[ive, erased, ive...|(10744,[0,1,7,13,...|-0.03079047619047619|  sad|  0.0|\n|[little, darling,...|(10744,[0,1,6,9,1...| 0.07315384615384615|happy|  1.0|\n|[lead, vocal, gre...|(10744,[0,1,2,3,4...| 0.03877064220183487|  sad|  0.0|\n|[imagine, whole, ...|(10744,[0,2,3,4,5...| 0.06143411764705882|happy|  1.0|\n|[first, let, say,...|(10744,[0,2,4,8,1...|-0.03257063492063...|happy|  1.0|\n|[james, james, ho...|(10744,[0,14,19,2...|0.005785714285714...|happy|  1.0|\n|[conclusion, illu...|(10744,[0,4,10,12...|0.038160256410256416|  sad|  0.0|\n|[aint, love, aint...|(10744,[3,4,5,12,...|0.017723076923076925|  sad|  0.0|\n|[brick, brick, st...|(10744,[1,5,6,11,...|0.012400000000000001|  sad|  0.0|\n|[make, difference...|(10744,[0,1,2,3,5...|-0.02452289156626506|  sad|  0.0|\n|[angie, angie, cl...|(10744,[1,3,6,8,9...| 0.03008235294117647|  sad|  0.0|\n|[day, day, night,...|(10744,[1,6,7,9,1...|0.039650561797752816|happy|  1.0|\n|[ever, make, back...|(10744,[6,7,12,15...|-0.00713384615384...|  sad|  0.0|\n|[see, want, someh...|(10744,[2,3,8,13,...|           0.0155925|  sad|  0.0|\n|[chorus, mr, chee...|(10744,[0,1,2,3,4...|0.003063836477987...|happy|  1.0|\n|[rip, hold, tell,...|(10744,[0,7,11,12...|-0.01886923076923077|  sad|  0.0|\n|[im, driving, hom...|(10744,[0,5,7,9,1...|0.003820500000000...|happy|  1.0|\n|[degradation, don...|(10744,[0,1,5,14,...|-0.03553917525773196|  sad|  0.0|\n+--------------------+--------------------+--------------------+-----+-----+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525462336629_272360009","id":"20180504-153216_1236361274","dateCreated":"2018-05-04T15:32:16-0400","dateStarted":"2018-05-10T02:55:07-0400","dateFinished":"2018-05-10T02:55:12-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:338"},{"text":"%pyspark\nprint(\"%html <h3>Creating Feature Vector<h3>\")\n","user":"anonymous","dateUpdated":"2018-05-10T02:55:17-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Creating Feature Vector<h3>\n"}]},"apps":[],"jobName":"paragraph_1525512907465_1387479834","id":"20180505-053507_1935632241","dateCreated":"2018-05-05T05:35:07-0400","dateStarted":"2018-05-10T02:55:17-0400","dateFinished":"2018-05-10T02:55:17-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:339"},{"text":"%pyspark\nassembler = VectorAssembler(\n    inputCols=[\"polarity_value\",\"features1\"],\n    outputCol=\"features\")\nproduction_df4 = assembler.transform(production_df3).select(col(\"unigrams\"),col(\"polarity_value\"), col(\"features\"), col(\"mood\"), col(\"label\"))\nproduction_df4.show()\n\n","user":"anonymous","dateUpdated":"2018-05-10T02:55:21-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+--------------------+--------------------+-----+-----+\n|            unigrams|      polarity_value|            features| mood|label|\n+--------------------+--------------------+--------------------+-----+-----+\n|[verse, one, alri...|-0.00890864197530...|(10745,[0,1,2,3,5...|  sad|  0.0|\n|[adam, antmarco, ...|0.021400000000000002|(10745,[0,3,8,12,...|happy|  1.0|\n|[ive, erased, ive...|-0.03079047619047619|(10745,[0,1,2,8,1...|  sad|  0.0|\n|[little, darling,...| 0.07315384615384615|(10745,[0,1,2,7,1...|happy|  1.0|\n|[lead, vocal, gre...| 0.03877064220183487|(10745,[0,1,2,3,4...|  sad|  0.0|\n|[imagine, whole, ...| 0.06143411764705882|(10745,[0,1,3,4,5...|happy|  1.0|\n|[first, let, say,...|-0.03257063492063...|(10745,[0,1,3,5,9...|happy|  1.0|\n|[james, james, ho...|0.005785714285714...|(10745,[0,1,15,20...|happy|  1.0|\n|[conclusion, illu...|0.038160256410256416|(10745,[0,1,5,11,...|  sad|  0.0|\n|[aint, love, aint...|0.017723076923076925|(10745,[0,4,5,6,1...|  sad|  0.0|\n|[brick, brick, st...|0.012400000000000001|(10745,[0,2,6,7,1...|  sad|  0.0|\n|[make, difference...|-0.02452289156626506|(10745,[0,1,2,3,4...|  sad|  0.0|\n|[angie, angie, cl...| 0.03008235294117647|(10745,[0,2,4,7,9...|  sad|  0.0|\n|[day, day, night,...|0.039650561797752816|(10745,[0,2,7,8,1...|happy|  1.0|\n|[ever, make, back...|-0.00713384615384...|(10745,[0,7,8,13,...|  sad|  0.0|\n|[see, want, someh...|           0.0155925|(10745,[0,3,4,9,1...|  sad|  0.0|\n|[chorus, mr, chee...|0.003063836477987...|(10745,[0,1,2,3,4...|happy|  1.0|\n|[rip, hold, tell,...|-0.01886923076923077|(10745,[0,1,8,12,...|  sad|  0.0|\n|[im, driving, hom...|0.003820500000000...|(10745,[0,1,6,8,1...|happy|  1.0|\n|[degradation, don...|-0.03553917525773196|(10745,[0,1,2,6,1...|  sad|  0.0|\n+--------------------+--------------------+--------------------+-----+-----+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525512944195_-2065074549","id":"20180505-053544_678781493","dateCreated":"2018-05-05T05:35:44-0400","dateStarted":"2018-05-10T02:55:21-0400","dateFinished":"2018-05-10T02:55:34-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:340"},{"text":"%pyspark\nprint(\"%html <h3>Train Test Data Split<h3>\")\n","user":"anonymous","dateUpdated":"2018-05-10T02:55:54-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Train Test Data Split<h3>\n"}]},"apps":[],"jobName":"paragraph_1525470596179_-587633995","id":"20180504-174956_963818364","dateCreated":"2018-05-04T17:49:56-0400","dateStarted":"2018-05-10T02:55:54-0400","dateFinished":"2018-05-10T02:55:54-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:341"},{"text":"%pyspark\n# Split the data into training and test sets (30% held out for testing)\n(trainingData1, testData1) = production_df4.randomSplit([0.7, 0.3])\ntrainingData1.show()\n","user":"anonymous","dateUpdated":"2018-05-10T02:55:57-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+--------------------+--------------------+-----+-----+\n|            unigrams|      polarity_value|            features| mood|label|\n+--------------------+--------------------+--------------------+-----+-----+\n|[, foot, , shes, ...| 0.08742241379310348|(10745,[0,1,2,3,4...|happy|  1.0|\n|[, verse, , every...|1.495268138801267E-4|(10745,[0,1,2,3,5...|happy|  1.0|\n|[accidently, arm,...| 0.04871249999999999|(10745,[0,3,4,9,1...|happy|  1.0|\n|[action, time, li...|-0.01988465346534653|(10745,[0,1,2,3,5...|happy|  1.0|\n|[adam, antmarco, ...|0.021400000000000002|(10745,[0,3,8,12,...|happy|  1.0|\n|[ah, first, summe...|  0.2325291262135924|(10745,[0,4,9,11,...|happy|  1.0|\n|[aint, easy, livi...| 0.01661420765027322|(10745,[0,2,5,8,1...|happy|  1.0|\n|[aint, love, aint...|0.017723076923076925|(10745,[0,4,5,6,1...|  sad|  0.0|\n|[air, alive, pier...| 0.07926641221374049|(10745,[0,4,5,6,1...|  sad|  0.0|\n|[air, getting, ho...|0.008923611111111111|(10745,[0,1,2,3,5...|  sad|  0.0|\n|[alone, x, leviti...|-0.00816347826086...|(10745,[0,1,2,5,7...|  sad|  0.0|\n|[alright, dig, ba...|0.007972043010752685|(10745,[0,1,2,3,5...|happy|  1.0|\n|[always, stay, no...|-0.00405549738219...|(10745,[0,1,7,13,...|  sad|  0.0|\n|[anesthetizing, s...|-0.03916181818181...|(10745,[0,79,91,9...|  sad|  0.0|\n|[angie, angie, cl...| 0.03008235294117647|(10745,[0,2,4,7,9...|  sad|  0.0|\n|[ani, auni, vevyo...|-5.59322033898305...|(10745,[0,3,5,6,1...|  sad|  0.0|\n|[annabel, sevente...|0.018583333333333334|(10745,[0,6,9,12,...|happy|  1.0|\n|[annoy, optimism,...| 0.04927118644067797|(10745,[0,1,2,3,4...|happy|  1.0|\n|[another, day, ni...|-0.04182946428571429|(10745,[0,3,11,14...|  sad|  0.0|\n|[another, lesson,...|-0.02306666666666667|(10745,[0,3,5,14,...|  sad|  0.0|\n+--------------------+--------------------+--------------------+-----+-----+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525471230611_-2025920618","id":"20180504-180030_571541068","dateCreated":"2018-05-04T18:00:30-0400","dateStarted":"2018-05-10T02:55:57-0400","dateFinished":"2018-05-10T02:56:05-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:342"},{"text":"%pyspark\nprint(\"%html <h3>Feature and Label Extraction from Training and Test Dataset<h3>\")","user":"anonymous","dateUpdated":"2018-05-10T02:56:11-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Feature and Label Extraction from Training and Test Dataset<h3>\n"}]},"apps":[],"jobName":"paragraph_1525668765917_2072828061","id":"20180507-005245_1423358473","dateCreated":"2018-05-07T00:52:45-0400","dateStarted":"2018-05-10T02:56:11-0400","dateFinished":"2018-05-10T02:56:11-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:343"},{"text":"%pyspark\ntrainingData = trainingData1.select(col(\"features\"),col(\"label\"))\ntestData = testData1.select(col(\"features\"),col(\"label\"))\n","user":"anonymous","dateUpdated":"2018-05-10T02:56:14-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525668810173_-1406594160","id":"20180507-005330_1281654211","dateCreated":"2018-05-07T00:53:30-0400","dateStarted":"2018-05-10T02:56:14-0400","dateFinished":"2018-05-10T02:56:14-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:344"},{"text":"%pyspark\nprint(\"%html <H3>Gradient Boosted Tree(MulticlassClassificationEvaluator)</H3>\")\n","user":"anonymous","dateUpdated":"2018-05-10T02:56:18-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<H3>Gradient Boosted Tree(MulticlassClassificationEvaluator)</H3>\n"}]},"apps":[],"jobName":"paragraph_1525481766991_1348355046","id":"20180504-205606_432132686","dateCreated":"2018-05-04T20:56:06-0400","dateStarted":"2018-05-10T02:56:18-0400","dateFinished":"2018-05-10T02:56:18-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:345"},{"text":"%pyspark\ngbt = GBTClassifier(maxIter=10, labelCol=\"label\", featuresCol=\"features\")\n\npipeline = Pipeline(stages = [gbt])\nparamGrid = ParamGridBuilder().addGrid(gbt.maxIter, [10]).build()\nevaluator = MulticlassClassificationEvaluator(\n    labelCol=\"label\", predictionCol=\"prediction\", metricName=\"accuracy\")\ncrossval = CrossValidator(estimator = pipeline,\n                          estimatorParamMaps = paramGrid,\n                          evaluator = evaluator,\n                          numFolds = 10)\n","user":"anonymous","dateUpdated":"2018-05-07T02:09:19-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525511936970_-1364859434","id":"20180505-051856_630720735","dateCreated":"2018-05-05T05:18:56-0400","dateStarted":"2018-05-07T02:09:19-0400","dateFinished":"2018-05-07T02:09:19-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:346"},{"text":"%pyspark\ncvModel = crossval.fit(trainingData)\n\n\n","user":"anonymous","dateUpdated":"2018-05-07T02:09:58-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\n"}]},"apps":[],"jobName":"paragraph_1525511983358_-608165617","id":"20180505-051943_682630628","dateCreated":"2018-05-05T05:19:43-0400","dateStarted":"2018-05-07T02:09:45-0400","dateFinished":"2018-05-07T02:09:45-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:347"},{"text":"%pyspark\npredictions = cvModel.transform(testData)\n","user":"anonymous","dateUpdated":"2018-05-06T13:40:09-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525573228012_-360976811","id":"20180505-222028_1253526571","dateCreated":"2018-05-05T22:20:28-0400","dateStarted":"2018-05-06T13:40:09-0400","dateFinished":"2018-05-06T13:40:09-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:348"},{"text":"%pyspark\npredictions.show()","user":"anonymous","dateUpdated":"2018-05-06T13:40:15-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-----+--------------------+--------------------+--------------------+----------+\n|label|            features|       rawPrediction|         probability|prediction|\n+-----+--------------------+--------------------+--------------------+----------+\n|  0.0|(10745,[0,1,2,3,4...|[0.24363654497365...|[0.61946383195518...|       0.0|\n|  0.0|(10745,[0,1,2,3,4...|[0.90655552975448...|[0.85973745374249...|       0.0|\n|  0.0|(10745,[0,1,2,3,4...|[0.25235573932286...|[0.62356590567236...|       0.0|\n|  0.0|(10745,[0,1,2,3,4...|[1.00192062267857...|[0.88119979453755...|       0.0|\n|  0.0|(10745,[0,1,2,3,4...|[0.23473860995973...|[0.61526001389588...|       0.0|\n|  0.0|(10745,[0,1,2,3,4...|[0.18159281450451...|[0.58981136568396...|       0.0|\n|  0.0|(10745,[0,1,2,3,4...|[-0.7795904048514...|[0.17376422692076...|       1.0|\n|  0.0|(10745,[0,1,2,3,4...|[-0.6988890950475...|[0.19816891584445...|       1.0|\n|  0.0|(10745,[0,1,2,3,4...|[0.90189760123550...|[0.85861029493648...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[1.05264450590677...|[0.89141618092288...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[0.79459244285968...|[0.83050139129138...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[0.81058764542166...|[0.83495715300816...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[0.64865072104142...|[0.78538046985466...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[0.87348837608656...|[0.85157107618139...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[0.40480540947151...|[0.69202656597775...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[0.35143287745194...|[0.66882284039411...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[0.92990896735731...|[0.86527572544558...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[0.31762271612486...|[0.65367789470963...|       0.0|\n|  0.0|(10745,[0,1,2,3,6...|[-0.4107899555048...|[0.30542839159189...|       1.0|\n|  0.0|(10745,[0,1,2,3,6...|[1.09522673611003...|[0.89938894787489...|       0.0|\n+-----+--------------------+--------------------+--------------------+----------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525550550930_2056089332","id":"20180505-160230_2126157659","dateCreated":"2018-05-05T16:02:30-0400","dateStarted":"2018-05-06T13:40:15-0400","dateFinished":"2018-05-06T13:40:22-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:349"},{"text":"%pyspark\nevaluator = MulticlassClassificationEvaluator(\n    labelCol=\"label\", predictionCol=\"prediction\", metricName=\"accuracy\")\naccuracy = evaluator.evaluate(predictions)\nprint(accuracy)","user":"anonymous","dateUpdated":"2018-05-06T13:40:42-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"0.656565656566\n"}]},"apps":[],"jobName":"paragraph_1525550564610_-599047503","id":"20180505-160244_826874500","dateCreated":"2018-05-05T16:02:44-0400","dateStarted":"2018-05-06T13:40:42-0400","dateFinished":"2018-05-06T13:40:52-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:350"},{"text":"%pyspark\nprint(\"%html <H3>SVM(MulticlassClassificationEvaluator)</H3>\")","user":"anonymous","dateUpdated":"2018-05-06T22:09:40-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<H3>SVM(MulticlassClassificationEvaluator)</H3>\n"}]},"apps":[],"jobName":"paragraph_1525555701043_1144832835","id":"20180505-172821_1383269426","dateCreated":"2018-05-05T17:28:21-0400","dateStarted":"2018-05-06T22:09:40-0400","dateFinished":"2018-05-06T22:09:40-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:351"},{"text":"%pyspark\nsvm = LinearSVC(maxIter=10, regParam=0.01, featuresCol=\"features\", labelCol=\"label\")\npipeline = Pipeline(stages = [svm])\nparamGrid = ParamGridBuilder().addGrid(svm.maxIter, [10]).build()\nevaluator = MulticlassClassificationEvaluator(\n    labelCol=\"label\", predictionCol=\"prediction\", metricName=\"accuracy\")\ncrossval1 = CrossValidator(estimator = pipeline,\n                          estimatorParamMaps = paramGrid,\n                          evaluator = evaluator,\n                          numFolds = 10)","user":"anonymous","dateUpdated":"2018-05-06T12:57:11-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525577971307_-271358274","id":"20180505-233931_1937830327","dateCreated":"2018-05-05T23:39:31-0400","dateStarted":"2018-05-06T12:57:11-0400","dateFinished":"2018-05-06T12:57:11-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:352"},{"text":"%pyspark\ncvmodel1 = crossval1.fit(trainingData) ","user":"anonymous","dateUpdated":"2018-05-06T12:57:14-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525578133776_-368452914","id":"20180505-234213_163162080","dateCreated":"2018-05-05T23:42:13-0400","dateStarted":"2018-05-06T12:57:15-0400","dateFinished":"2018-05-06T13:13:30-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:353"},{"text":"%pyspark\npredictions1 = cvmodel1.transform(testData)\n","user":"anonymous","dateUpdated":"2018-05-06T13:14:45-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525578185058_1831049278","id":"20180505-234305_1635323724","dateCreated":"2018-05-05T23:43:05-0400","dateStarted":"2018-05-06T13:14:45-0400","dateFinished":"2018-05-06T13:14:45-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:354"},{"text":"%pyspark\npredictions1.show()","user":"anonymous","dateUpdated":"2018-05-06T13:15:00-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-----+--------------------+--------------------+----------+\n|label|            features|       rawPrediction|prediction|\n+-----+--------------------+--------------------+----------+\n|  0.0|(10745,[0,1,2,3,4...|[0.43044336149849...|       0.0|\n|  0.0|(10745,[0,1,2,3,4...|[4.74300793536982...|       0.0|\n|  0.0|(10745,[0,1,2,3,4...|[-3.4081061209545...|       1.0|\n|  0.0|(10745,[0,1,2,3,4...|[-0.5224092907829...|       1.0|\n|  0.0|(10745,[0,1,2,3,4...|[1.68359088895311...|       0.0|\n|  0.0|(10745,[0,1,2,3,4...|[0.17271576386522...|       0.0|\n|  0.0|(10745,[0,1,2,3,4...|[0.30679254922732...|       0.0|\n|  0.0|(10745,[0,1,2,3,4...|[-0.0249850753788...|       1.0|\n|  0.0|(10745,[0,1,2,3,4...|[0.67560839341921...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[3.03133673685358...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[1.32209752251700...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[2.64994548261972...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[0.37028416427044...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[1.82067503730664...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[1.54153013767890...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[-0.2608269133701...|       1.0|\n|  0.0|(10745,[0,1,2,3,5...|[0.47485343933464...|       0.0|\n|  0.0|(10745,[0,1,2,3,5...|[0.58194795543004...|       0.0|\n|  0.0|(10745,[0,1,2,3,6...|[0.21712258847578...|       0.0|\n|  0.0|(10745,[0,1,2,3,6...|[0.92652958985806...|       0.0|\n+-----+--------------------+--------------------+----------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525578276886_-1832808872","id":"20180505-234436_1413969548","dateCreated":"2018-05-05T23:44:36-0400","dateStarted":"2018-05-06T13:15:00-0400","dateFinished":"2018-05-06T13:15:15-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:355"},{"text":"%pyspark\nevaluator = MulticlassClassificationEvaluator(\n    labelCol=\"label\", predictionCol=\"prediction\", metricName=\"accuracy\")\naccuracy = evaluator.evaluate(predictions1)\nprint(accuracy)","user":"anonymous","dateUpdated":"2018-05-06T13:15:28-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"0.666666666667\n"}]},"apps":[],"jobName":"paragraph_1525578399674_2082765360","id":"20180505-234639_1535396575","dateCreated":"2018-05-05T23:46:39-0400","dateStarted":"2018-05-06T13:15:28-0400","dateFinished":"2018-05-06T13:15:35-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:356"},{"text":"%pyspark\nprint(\"%html <H3>Saving SVM(MulticlassClassificationEvaluator)</H3>\")","user":"anonymous","dateUpdated":"2018-05-06T22:35:47-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<H3>Saving SVM(MulticlassClassificationEvaluator)</H3>\n"}]},"apps":[],"jobName":"paragraph_1525659590400_-1319245695","id":"20180506-221950_2005110418","dateCreated":"2018-05-06T22:19:50-0400","dateStarted":"2018-05-06T22:35:47-0400","dateFinished":"2018-05-06T22:35:47-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:357"},{"text":"%pyspark\ncvmodel1.bestModel.stages[0].write().overwrite().save(\"SVM_model\")","user":"anonymous","dateUpdated":"2018-05-06T15:58:10-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525580462475_-1315980018","id":"20180506-002102_1093896964","dateCreated":"2018-05-06T00:21:02-0400","dateStarted":"2018-05-06T15:58:10-0400","dateFinished":"2018-05-06T15:58:17-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:358"},{"text":"%pyspark\nprint(\"%html <H3>Gradient Boosted Tree(BinaryClassificationEvaluator)</H3>\")","user":"anonymous","dateUpdated":"2018-05-06T22:10:17-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<H3>Gradient Boosted Tree(BinaryClassificationEvaluator)</H3>\n"}]},"apps":[],"jobName":"paragraph_1525635409534_-739906099","id":"20180506-153649_918462735","dateCreated":"2018-05-06T15:36:49-0400","dateStarted":"2018-05-06T22:10:17-0400","dateFinished":"2018-05-06T22:10:17-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:359"},{"text":"%pyspark\ngbt = GBTClassifier(maxIter=10, labelCol=\"label\", featuresCol=\"features\")\npipeline = Pipeline(stages = [gbt])\nparamGrid = ParamGridBuilder().addGrid(gbt.maxIter, [10]).build()\ncrossval2 = CrossValidator(estimator = pipeline,\n                          estimatorParamMaps = paramGrid,\n                          evaluator = BinaryClassificationEvaluator(),\n                          numFolds = 10)\n","user":"anonymous","dateUpdated":"2018-05-10T02:56:45-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525659017175_-279469156","id":"20180506-221017_1857462375","dateCreated":"2018-05-06T22:10:17-0400","dateStarted":"2018-05-10T02:56:45-0400","dateFinished":"2018-05-10T02:56:45-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:360"},{"text":"%pyspark\ncvModel2 = crossval2.fit(trainingData)","user":"anonymous","dateUpdated":"2018-05-10T02:56:49-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525659381748_1794082752","id":"20180506-221621_120134461","dateCreated":"2018-05-06T22:16:21-0400","dateStarted":"2018-05-10T02:56:49-0400","dateFinished":"2018-05-10T03:10:27-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:361"},{"text":"%pyspark\npredictions2 = cvModel2.transform(testData)","user":"anonymous","dateUpdated":"2018-05-10T03:10:34-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525659415350_2119827153","id":"20180506-221655_2116624771","dateCreated":"2018-05-06T22:16:55-0400","dateStarted":"2018-05-10T03:10:34-0400","dateFinished":"2018-05-10T03:10:34-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:362"},{"text":"%pyspark\npredictions2.show()","user":"anonymous","dateUpdated":"2018-05-10T03:10:40-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+-----+--------------------+--------------------+----------+\n|            features|label|       rawPrediction|         probability|prediction|\n+--------------------+-----+--------------------+--------------------+----------+\n|(10745,[0,1,2,3,5...|  0.0|[0.65957459685702...|[0.78904011970061...|       0.0|\n|(10745,[0,3,4,7,1...|  0.0|[1.05231470703152...|[0.89135231974639...|       0.0|\n|(10745,[0,1,2,5,6...|  0.0|[-0.4488859001430...|[0.28950860824084...|       1.0|\n|(10745,[0,1,2,3,4...|  0.0|[-0.1056847378484...|[0.44735349285588...|       1.0|\n|(10745,[0,2,3,4,5...|  1.0|[0.47290921664271...|[0.72027345413963...|       0.0|\n|(10745,[0,1,3,5,6...|  1.0|[-0.9549919568716...|[0.12898265936419...|       1.0|\n|(10745,[0,2,5,7,1...|  0.0|[0.21264961082172...|[0.60475060909980...|       0.0|\n|(10745,[0,2,3,4,6...|  0.0|[0.73890925313938...|[0.81424285282877...|       0.0|\n|(10745,[0,1,2,3,4...|  0.0|[0.76471352372148...|[0.82192246895058...|       0.0|\n|(10745,[0,1,2,3,5...|  1.0|[-0.7444448990317...|[0.18408842112998...|       1.0|\n|(10745,[0,1,3,8,9...|  1.0|[0.36069241818208...|[0.67291189455215...|       0.0|\n|(10745,[0,2,4,5,7...|  0.0|[-0.7444448990317...|[0.18408842112998...|       1.0|\n|(10745,[0,7,13,15...|  0.0|[-0.2883252902049...|[0.35970365867157...|       1.0|\n|(10745,[0,4,13,14...|  0.0|[-0.3051591847459...|[0.35198657695521...|       1.0|\n|(10745,[0,2,15,25...|  0.0|[-0.0849903573255...|[0.45760684589970...|       1.0|\n|(10745,[0,4,12,13...|  1.0|[0.31783320747717...|[0.65377319191459...|       0.0|\n|(10745,[0,1,3,8,1...|  1.0|[-0.2675723577711...|[0.36931776625569...|       1.0|\n|(10745,[0,4,9,12,...|  1.0|[0.31783320747717...|[0.65377319191459...|       0.0|\n|(10745,[0,4,10,26...|  1.0|[-0.3051591847459...|[0.35198657695521...|       1.0|\n|(10745,[0,1,2,4,5...|  1.0|[-1.1246284956871...|[0.09541357456805...|       1.0|\n+--------------------+-----+--------------------+--------------------+----------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525659670000_-1270243023","id":"20180506-222110_1601307043","dateCreated":"2018-05-06T22:21:10-0400","dateStarted":"2018-05-10T03:10:40-0400","dateFinished":"2018-05-10T03:10:48-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:363"},{"text":"%pyspark\nprint(\"%html <H3>Extracting Predicted Dataset for Visualisation</H3>\")","user":"anonymous","dateUpdated":"2018-05-07T00:39:38-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<H3>Extracting Predicted Dataset for Visualisation</H3>\n"}]},"apps":[],"jobName":"paragraph_1525667927310_2124946475","id":"20180507-003847_1984335981","dateCreated":"2018-05-07T00:38:47-0400","dateStarted":"2018-05-07T00:39:38-0400","dateFinished":"2018-05-07T00:39:38-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:364"},{"text":"%pyspark\nvisualisation_data = predictions2.join(testData1,predictions2.features==testData1.features)\nvisualisation_data = visualisation_data.select(col(\"unigrams\"),col(\"polarity_value\"),col(\"mood\"),col(\"prediction\"))\nvisualisation_data.coalesce(1).write.format('json').save('visualisation_data1.json')\n","user":"anonymous","dateUpdated":"2018-05-07T02:57:30-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+--------------------+-----+----------+\n|            unigrams|      polarity_value| mood|prediction|\n+--------------------+--------------------+-----+----------+\n|[accidently, arm,...| 0.04871249999999999|happy|       0.0|\n|[action, time, li...|-0.01988465346534653|happy|       0.0|\n|[adam, antmarco, ...|0.021400000000000002|happy|       1.0|\n|[aint, easy, livi...| 0.01661420765027322|happy|       1.0|\n|[aint, funny, tur...| 0.05756960784313725|  sad|       1.0|\n|[always, stay, no...|-0.00405549738219...|  sad|       1.0|\n|[annabel, sevente...|0.018583333333333334|happy|       0.0|\n|[annoy, optimism,...| 0.04927118644067797|happy|       1.0|\n|[ayo, x, let, som...|0.013327564102564101|happy|       1.0|\n|[b, diane, shes, ...|0.011484415584415585|happy|       1.0|\n|[bat, eye, girl, ...| 0.00859368421052631|  sad|       0.0|\n|[beat, getting, s...|0.010007216494845362|happy|       0.0|\n|[begin, time, com...|-0.02289275362318...|  sad|       0.0|\n|[beginning, saw, ...| 0.05648544600938968|happy|       1.0|\n|[believe, rather,...| 0.07096388888888891|happy|       1.0|\n|[beyondyour, sunb...|-0.04326449704142013|  sad|       0.0|\n|[black, dog, snif...|-0.03245312500000...|happy|       1.0|\n|[bone, thugsnharm...|-0.05152713815789472|  sad|       0.0|\n|[born, bad, sign,...|-0.02344736842105...|  sad|       0.0|\n|[born, mother, wo...|-0.02460919540229885|  sad|       0.0|\n+--------------------+--------------------+-----+----------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525667985508_-1709399767","id":"20180507-003945_1269719040","dateCreated":"2018-05-07T00:39:45-0400","dateStarted":"2018-05-07T02:56:13-0400","dateFinished":"2018-05-07T02:56:34-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:365"},{"text":"%pyspark\nevaluator = BinaryClassificationEvaluator()\naccuracy = evaluator.evaluate(predictions2)\nprint(accuracy)","user":"anonymous","dateUpdated":"2018-05-10T03:10:59-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"0.680383838384\n"}]},"apps":[],"jobName":"paragraph_1525659695749_-1220579766","id":"20180506-222135_1571019576","dateCreated":"2018-05-06T22:21:35-0400","dateStarted":"2018-05-10T03:10:59-0400","dateFinished":"2018-05-10T03:11:05-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:366"},{"text":"%pyspark\nprint(\"%html <H3>SVM(BinaryClassificationEvaluator)</H3>\")","user":"anonymous","dateUpdated":"2018-05-06T22:35:12-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<H3>SVM(BinaryClassificationEvaluator)</H3>\n"}]},"apps":[],"jobName":"paragraph_1525659778937_277906641","id":"20180506-222258_1257543604","dateCreated":"2018-05-06T22:22:58-0400","dateStarted":"2018-05-06T22:35:12-0400","dateFinished":"2018-05-06T22:35:12-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:367"},{"text":"%pyspark\nsvm = LinearSVC(maxIter=10, regParam=0.01, featuresCol=\"features\", labelCol=\"label\")\npipeline = Pipeline(stages = [svm])\nparamGrid = ParamGridBuilder().addGrid(svm.maxIter, [10]).build()\ncrossval3 = CrossValidator(estimator = pipeline,\n                          estimatorParamMaps = paramGrid,\n                          evaluator = BinaryClassificationEvaluator(),\n                          numFolds = 10)","user":"anonymous","dateUpdated":"2018-05-10T03:13:03-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525659817431_61555166","id":"20180506-222337_1221487976","dateCreated":"2018-05-06T22:23:37-0400","dateStarted":"2018-05-10T03:13:03-0400","dateFinished":"2018-05-10T03:13:03-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:368"},{"text":"%pyspark\ncvmodel3 = crossval3.fit(trainingData) ","user":"anonymous","dateUpdated":"2018-05-10T03:13:11-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525659929179_220257248","id":"20180506-222529_1833612247","dateCreated":"2018-05-06T22:25:29-0400","dateStarted":"2018-05-10T03:13:11-0400","dateFinished":"2018-05-10T03:39:30-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:369"},{"text":"%pyspark\npredictions3 = cvmodel3.transform(testData)","user":"anonymous","dateUpdated":"2018-05-10T03:49:20-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1525659982317_388838563","id":"20180506-222622_425960187","dateCreated":"2018-05-06T22:26:22-0400","dateStarted":"2018-05-10T03:49:20-0400","dateFinished":"2018-05-10T03:49:20-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:370"},{"text":"%pyspark\npredictions3.show()","user":"anonymous","dateUpdated":"2018-05-10T03:49:24-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+-----+--------------------+----------+\n|            features|label|       rawPrediction|prediction|\n+--------------------+-----+--------------------+----------+\n|(10745,[0,1,2,3,5...|  0.0|[0.79521077270125...|       0.0|\n|(10745,[0,3,4,7,1...|  0.0|[1.48657363428241...|       0.0|\n|(10745,[0,1,2,5,6...|  0.0|[-0.5038018417515...|       1.0|\n|(10745,[0,1,2,3,4...|  0.0|[0.19271733699804...|       0.0|\n|(10745,[0,2,3,4,5...|  1.0|[0.55335046058263...|       0.0|\n|(10745,[0,1,3,5,6...|  1.0|[0.18307466660551...|       0.0|\n|(10745,[0,2,5,7,1...|  0.0|[-0.3470808539353...|       1.0|\n|(10745,[0,2,3,4,6...|  0.0|[0.71764704659319...|       0.0|\n|(10745,[0,1,2,3,4...|  0.0|[1.94681493639287...|       0.0|\n|(10745,[0,1,2,3,5...|  1.0|[0.30386379155866...|       0.0|\n|(10745,[0,1,3,8,9...|  1.0|[-0.5597539746754...|       1.0|\n|(10745,[0,2,4,5,7...|  0.0|[0.22480478409829...|       0.0|\n|(10745,[0,7,13,15...|  0.0|[1.21187664144797...|       0.0|\n|(10745,[0,4,13,14...|  0.0|[-1.2095665434535...|       1.0|\n|(10745,[0,2,15,25...|  0.0|[0.35918560430767...|       0.0|\n|(10745,[0,4,12,13...|  1.0|[-0.9885363485805...|       1.0|\n|(10745,[0,1,3,8,1...|  1.0|[0.08055375307278...|       0.0|\n|(10745,[0,4,9,12,...|  1.0|[0.09484852560841...|       0.0|\n|(10745,[0,4,10,26...|  1.0|[-1.5041636755472...|       1.0|\n|(10745,[0,1,2,4,5...|  1.0|[-0.4595417716390...|       1.0|\n+--------------------+-----+--------------------+----------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1525660114672_-1255041890","id":"20180506-222834_1803177019","dateCreated":"2018-05-06T22:28:34-0400","dateStarted":"2018-05-10T03:49:24-0400","dateFinished":"2018-05-10T03:49:37-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:371"},{"text":"%pyspark\nevaluator = BinaryClassificationEvaluator()\naccuracy = evaluator.evaluate(predictions3)\nprint(accuracy)","user":"anonymous","dateUpdated":"2018-05-10T03:49:45-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"0.626686868687\n"}]},"apps":[],"jobName":"paragraph_1525660131793_-598028687","id":"20180506-222851_1397940787","dateCreated":"2018-05-06T22:28:51-0400","dateStarted":"2018-05-10T03:49:45-0400","dateFinished":"2018-05-10T03:49:52-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:372"},{"text":"%pyspark\n","user":"anonymous","dateUpdated":"2018-05-06T23:02:30-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1525662150151_-575665110","id":"20180506-230230_1678891135","dateCreated":"2018-05-06T23:02:30-0400","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:373"}],"name":"Music Mood Analysis","id":"2DD7W652A","angularObjects":{"2DDMVX3PK:shared_process":[],"2DD2ECZHF:shared_process":[],"2DEZ58H67:shared_process":[],"2DBQJS8D7:shared_process":[],"2DDMJUJTR:shared_process":[],"2DF2E9JNJ:shared_process":[],"2DF5J6NX1:shared_process":[],"2DFAQBABD:shared_process":[],"2DENJ3X9D:shared_process":[],"2DF1671Y9:shared_process":[],"2DBRJ6K86:shared_process":[],"2DF21HMYV:shared_process":[],"2DDAKRYT4:shared_process":[],"2DENVVKKR:shared_process":[],"2DE15953U:shared_process":[],"2DCAF7NKA:shared_process":[],"2DEGNXSUW:shared_process":[],"2DEQ62X5C:shared_process":[],"2DEE4RCHV:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}